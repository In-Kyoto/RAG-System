# üìö Multimodal RAG ‚Äì The Batch

## –û–≥–ª—è–¥ –ü—Ä–æ—î–∫—Ç—É

–¶–µ–π –ø—Ä–æ—î–∫—Ç —Ä–µ–∞–ª—ñ–∑—É—î –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É —Å–∏—Å—Ç–µ–º—É **Retrieval-Augmented Generation (RAG)**. –í–æ–Ω–∞ –¥–æ–∑–≤–æ–ª—è—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —à—É–∫–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é (—Ç–µ–∫—Å—Ç —Ç–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è) —Å–µ—Ä–µ–¥ –≤–∏–ø—É—Å–∫—ñ–≤ –Ω–æ–≤–∏–Ω–Ω–æ–≥–æ –±—é–ª–µ—Ç–µ–Ω—è "The Batch" –≤—ñ–¥ DeepLearning.AI, –∞ –ø–æ—Ç—ñ–º –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ –æ–±“ë—Ä—É–Ω—Ç–æ–≤–∞–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é.

–°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω—É LLM (Llama 3.1)** —á–µ—Ä–µ–∑ **Ollama** –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ —à–≤–∏–¥–∫–æ—Å—Ç—ñ, –∞ —Ç–∞–∫–æ–∂ **LanceDB** –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ—à—É–∫—É.

### –ö–ª—é—á–æ–≤—ñ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:

* **–í–µ–±-—Å–∫—Ä–µ–π–ø—ñ–Ω–≥:** –ó–±—ñ—Ä —Å—Ç–∞—Ç–µ–π, –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤, –¥–∞—Ç —Ç–∞ –º–µ–¥—ñ–∞-–∫–æ–Ω—Ç–µ–Ω—Ç—É.
* **–í–µ–∫—Ç–æ—Ä–Ω–∞ –ë–∞–∑–∞ –î–∞–Ω–∏—Ö (LanceDB):** –Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –±–∞–≥–∞—Ç–æ–º–æ–¥–∞–ª—å–Ω–æ–≥–æ –ø–æ—à—É–∫—É.
* **–õ–æ–∫–∞–ª—å–Ω–∞ LLM:** –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `llama3.1:8b`, —â–æ –ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ Ollama (–æ—Ñ–ª–∞–π–Ω).
* **–í–µ–±—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Streamlit):** –ó—Ä—É—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó —ñ–∑ —Å–∏—Å—Ç–µ–º–æ—é RAG.

## üõ†Ô∏è –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–î–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ—î–∫—Ç—É –≤–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏.

### 1. Python —Ç–∞ –í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –°–µ—Ä–µ–¥–æ–≤–∏—â–µ

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ **Python 3.9+**. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:

```bash
    # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
    python -m venv .venv
    
    # –ê–∫—Ç–∏–≤–∞—Ü—ñ—è (Linux/macOS)
    source .venv/bin/activate
    
    # –ê–∫—Ç–∏–≤–∞—Ü—ñ—è (Windows)
    # .venv\Scripts\activate
```

### 2. Ollama —Ç–∞ –ú–æ–¥–µ–ª—å Llama 3.1

–ü—Ä–æ—î–∫—Ç –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ Ollama –¥–ª—è –∑–∞–ø—É—Å–∫—É –ª–æ–∫–∞–ª—å–Ω–æ—ó LLM.
1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Ollama: –°–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º –Ω–∞ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–º—É —Å–∞–π—Ç—ñ Ollama.
2. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ Llama 3.1 8B: –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É, —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É –º–æ–¥–µ–ª—å:

```bash
  ollama run llama3.1:8b
```

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ü—Ä–æ—î–∫—Ç—É
–ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
  git clone <URL –≤–∞—à–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é>
  cd <–Ω–∞–∑–≤–∞ –ø–∞–ø–∫–∏ –ø—Ä–æ—î–∫—Ç—É>
```
–ö—Ä–æ–∫ 2: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π Python

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–µ, —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —É—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:

```bash
  pip install -r requirements.txt
```
## ‚öôÔ∏è –ü–æ—Ä—è–¥–æ–∫ –ó–∞–ø—É—Å–∫—É

–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏ RAG –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —É —Ç—Ä–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ –µ—Ç–∞–ø–∏:

–ï—Ç–∞–ø 1: –ó–±—ñ—Ä —Ç–∞ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –î–∞–Ω–∏—Ö

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É—î –≤–µ–±-—Å–∫—Ä–µ–π–ø—ñ–Ω–≥, –∑–±–∏—Ä–∞—î —Å—Ç–∞—Ç—Ç—ñ –∑ deeplearning.ai/the-batch —ñ –∑–±–µ—Ä—ñ–≥–∞—î —ó—Ö —É –ª–æ–∫–∞–ª—å–Ω—É –±–∞–∑—É –¥–∞–Ω–∏—Ö SQLite (data/articles.db).

```bash
    python scripts/run_scraper_and_save.py
```

–ï—Ç–∞–ø 2: –ü–æ–±—É–¥–æ–≤–∞ –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ –Ü–Ω–¥–µ–∫—Å—É

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –Ω–∞–≤—á–µ–Ω—É –º–æ–¥–µ–ª—å SentenceTransformer (all-MiniLM-L6-v2), –æ–±—á–∏—Å–ª—é—î –≤–µ–∫—Ç–æ—Ä–Ω—ñ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –¥–ª—è —Ç–µ–∫—Å—Ç—É –∫–æ–∂–Ω–æ—ó —Å—Ç–∞—Ç—Ç—ñ —Ç–∞ —ñ–Ω–¥–µ–∫—Å—É—î —ó—Ö —É –≤–µ–∫—Ç–æ—Ä–Ω—ñ–π –±–∞–∑—ñ –¥–∞–Ω–∏—Ö LanceDB (data/lancedb).

```bash
  python scripts/build_multimodal_index.py
```

–ï—Ç–∞–ø 3: –ó–∞–ø—É—Å–∫ RAG –í–µ–±—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Ollama –∑–∞–ø—É—â–µ–Ω–æ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ. –¶–µ–π –∫—Ä–æ–∫ –∑–∞–ø—É—Å–∫–∞—î Streamlit-–¥–æ–¥–∞—Ç–æ–∫, —è–∫–∏–π —Å–ª—É–≥—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º RAG.

```bash
  streamlit run app/ui/app.py
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è http://localhost:8501 —É –≤–∞—à–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ. –¢—É—Ç –≤–∏ –∑–º–æ–∂–µ—Ç–µ –≤–≤–æ–¥–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏, –±–∞—á–∏—Ç–∏–º–µ—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤—ñ–¥ Llama 3.1, –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –∑ LanceDB, –∞ —Ç–∞–∫–æ–∂ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–∂–µ—Ä–µ–ª–∞ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.


## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ—î–∫—Ç—É

```python
.
‚îú‚îÄ‚îÄ .venv/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db.py                  # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ SQLite (SQLAlchemy)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py              # –ú–æ–¥–µ–ª—å Article
‚îÇ   ‚îú‚îÄ‚îÄ ingestion/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ save_to_db.py          # –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —É SQLite
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scraper.py             # –§—É–Ω–∫—Ü—ñ—ó —Å–∫—Ä–µ–π–ø—ñ–Ω–≥—É
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ       ‚îî‚îÄ‚îÄ app.py                 # Streamlit RAG —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ articles.db                # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π (SQLite)
‚îÇ   ‚îî‚îÄ‚îÄ lancedb/                   # –í–µ–∫—Ç–æ—Ä–Ω–∏–π —ñ–Ω–¥–µ–∫—Å (LanceDB)
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ build_multimodal_index.py  # –Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è –≤ LanceDB
‚îÇ   ‚îî‚îÄ‚îÄ run_scraper_and_save.py    # –ó–∞–ø—É—Å–∫ —Å–∫—Ä–µ–π–ø—ñ–Ω–≥—É
‚îî‚îÄ‚îÄ requirements.txt               # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
```

## üíª –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π –°—Ç–µ–∫

–ü—Ä–æ—î–∫—Ç –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫–ª—é—á–æ–≤–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è—Ö —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ö:

### –û—Å–Ω–æ–≤–Ω—ñ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

| –ö–∞—Ç–µ–≥–æ—Ä—ñ—è | –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
| :--- | :--- | :--- |
| **RAG/LLM** | **Ollama** | –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –∑–∞–ø—É—Å–∫—É —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏–º–∏ LLM (Llama 3.1). |
| **LLM** | **Llama 3.1 (8B)** | –í–µ–ª–∏–∫–∞ –º–æ–≤–Ω–∞ –º–æ–¥–µ–ª—å, —â–æ –≥–µ–Ω–µ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. |
| **–í–µ–∫—Ç–æ—Ä–Ω–∞ DB** | **LanceDB** | –í–µ–∫—Ç–æ—Ä–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤–±—É–¥—É–≤–∞–Ω—å —Ç–∞ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î –±–∞–≥–∞—Ç–æ–º–æ–¥–∞–ª—å–Ω—ñ—Å—Ç—å. |
| **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è** | **Sentence Transformers** (`all-MiniLM-L6-v2`) | –ú–æ–¥–µ–ª—å –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –∑–∞–ø–∏—Ç—É —Ç–∞ —Å—Ç–∞—Ç–µ–π —É –≤–µ–∫—Ç–æ—Ä–Ω—ñ –≤–±—É–¥–æ–≤–∞–Ω–Ω—è (embeddings). |
| **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | **Streamlit** | –®–≤–∏–¥–∫–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. |

### –ó–±—ñ—Ä —Ç–∞ –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –î–∞–Ω–∏—Ö

| –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
| :--- | :--- |
| **Python** | –û—Å–Ω–æ–≤–Ω–∞ –º–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è. |
| **Requests** | –í–∏–∫–æ–Ω–∞–Ω–Ω—è HTTP-–∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –≤–µ–±—Å–∞–π—Ç—É. |
| **BeautifulSoup4** | –ü–∞—Ä—Å–∏–Ω–≥ (–∞–Ω–∞–ª—ñ–∑) HTML-–∫–æ–Ω—Ç–µ–Ω—Ç—É. |
| **SQLAlchemy** | ORM (Object-Relational Mapping) –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö. |
| **SQLite** | –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–∏—Ä–∏—Ö –¥–∞–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π. |